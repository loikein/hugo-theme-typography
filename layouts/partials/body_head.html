<meta charset="utf-8" />
<meta name="X-UA-Compatible" content="IE=edge" />

<title>
{{- block "title" . -}}
{{- if .IsHome -}}
{{ .Site.Title }}
{{- else -}}
{{ .Title }}&#32;Â·&#32;{{ .Site.Title }}
{{- end -}}
{{- end -}}
</title>

{{ with .Params.author | default .Site.Params.author }}
  {{- /* https://github.com/theNewDynamic/gohugo-theme-ananke/blob/master/layouts/_default/baseof.html */ -}}
  {{- if reflect.IsSlice . -}}
  <meta name="author" content="{{- delimit . ", " | plainify -}}" />
  {{- else -}}
  <meta name="author" content="{{- . | plainify -}}" />
  {{- end -}}
{{ end }}

<meta name="description" content="{{ if .Description }}{{ .Description }}{{ else if .IsPage }}{{ .Summary }}{{ else }}{{ .Site.Params.Description }}{{ end }}" />
<meta itemprop="name" content="{{ if ne .Permalink "/" }}{{ .Title }} - {{ end }}{{ .Site.Title }}" />
<meta itemprop="description" content="{{ if .Description }}{{ .Description }}{{ else if .IsPage }}{{ .Summary }}{{ else }}{{ .Title }}{{ end }}" />

{{ if .Keywords }}
  <meta name="keywords" content="{{ delimit .Keywords ", " }}" />
{{ else if eq .Permalink "/" }}
  <meta name="keywords" content="{{ .Site.Params.Keywords }}">
{{ end }}

{{- /* https://webkit.org/blog/7929/designing-websites-for-iphone-x/ */ -}}
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

{{- /* https://stackoverflow.com/a/68497791 */ -}}
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" media="(prefers-color-scheme: light)" content="light-content" />
<meta name="apple-mobile-web-app-status-bar-style" media="(prefers-color-scheme: dark)" content="dark-content" />

<meta name='format-detection' content='telephone=no' />
<meta name="renderer" content="webkit">

{{ if .Site.Params.favicon }}
<link rel="icon" href="{{ .Site.Params.favicon | absURL }}" />
<link rel="apple-touch-icon-precomposed" href="{{ .Site.Params.favicon | absURL }}" />
{{ end }}
{{ if .Site.Params.touchicon }}
<link rel="apple-touch-icon" href="{{ .Site.Params.touchicon | absURL }}" />
{{ end }}

{{ if .Site.Params.noindex }}
<meta name="robots" content="noindex, nofollow" />
{{ end }}

{{ if .Site.Params.Twitter }}
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@{{ .Site.Params.Twitter }}" />
<meta name="twitter:title" content="{{ if ne .Permalink "/" }}{{ .Title }} - {{ end }}{{ .Site.Title }}" />{{ end }}
{{ with .Description }}
<meta name="twitter:description" content="{{ . }}" />
{{ else }}
<meta name="twitter:description" content="{{ .Site.Params.Description }}">
{{ end }}

{{ with .OutputFormats.Get "RSS" }}
<link href="{{ .RelPermalink }}" rel="alternate" type="application/rss+xml" title="{{ $.Title }}" />
<link href="{{ .RelPermalink }}" rel="feed" type="application/rss+xml" title="{{ $.Title }}" />
{{ end }}

{{/*
{{ if .Site.Params.MathJax }}
<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
{{ end }}
*/}}

<link rel="stylesheet" href="/font/font-awesome/css/font-awesome.min.css">

{{ $style := resources.Get "sass/index.scss" | toCSS | minify | fingerprint }}
<link rel="stylesheet" href="{{ $style.RelPermalink }}" media="screen" />

<link rel="stylesheet" href="/lib/highlight/styles/github.css">
<script src="/lib/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
